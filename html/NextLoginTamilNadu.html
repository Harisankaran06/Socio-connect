<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Next Login - Tamil Nadu (State · City · Division)</title>
  <style>
    /* Base and layout adapted from Loginpage.js styles */
    *{margin:0;padding:0;box-sizing:border-box;font-family:"Segoe UI",sans-serif}
    :root{--accent:#9b5cf1;--accent2:#6a7dff}
    html,body{height:100%}
    body{
      min-height:100vh;
      display:flex;
      justify-content:center;
      align-items:center;
      background:linear-gradient(135deg,#e8ebff,#f8f5ff);
      overflow:hidden;
      position:relative;
    }

    /* decorative background circles (like Loginpage) */
    body::before, body::after{
      content:"";
      position:absolute;
      border-radius:50%;
      background:rgba(174,144,255,0.18);
      z-index:0;
    }
    body::before{width:400px;height:400px;top:-100px;left:-100px}
    body::after{width:300px;height:300px;bottom:-80px;right:-80px}

    .card{
      position:relative;
      z-index:1;
      width:90%;
      max-width:820px;
      background:#fff;
      border-radius:16px;
      box-shadow:0 6px 20px rgba(0,0,0,0.1);
      overflow:hidden;
      padding:28px;
      border:1px solid rgba(155,92,241,0.06);
      margin:24px;
    }

    h1{font-size:20px;margin-bottom:10px;color:#222}
    p{color:#444}

    .row{display:grid;grid-template-columns:1fr 1fr;gap:14px}
    @media(max-width:768px){.row{grid-template-columns:1fr}}

    /* Inputs styled like login form */
    input[type="text"], input[type="search"], input[list], select{
      width:100%;
      padding:12px 15px;
      border:1px solid #e0e0e0;
      border-radius:10px;
      font-size:14px;
      background:#f9f9f9;
      transition:border 0.25s, background 0.25s;
    }
    input:focus, select:focus{outline:none;border-color:var(--accent);background:#fff;box-shadow:0 6px 18px rgba(155,92,241,0.06)}

    /* checkbox choices */
    .choice{display:inline-flex;align-items:center;gap:10px;background:#fff;border:1px solid #ececec;padding:10px 14px;border-radius:10px;cursor:pointer}
    .choice input{width:18px;height:18px}
    .choice-label{font-weight:600;color:#333}

    /* small helper */
    #localLabel{margin-bottom:8px;display:block}

    /* responsive adjustments */
    @media(max-width:420px){.card{padding:18px}}
  </style>
</head>
<body>
  <main class="card" role="main" aria-labelledby="pageTitle">
    <h1 id="pageTitle">Choose Local Body (Tamil Nadu)</h1>

    <p style="color:#444;margin-top:6px;margin-bottom:18px;max-width:680px">Select either <strong>Municipality</strong> or <strong>Municipal Corporation</strong>. Only one may be active at a time. Below, pick the specific local body in Tamil Nadu.</p>

    <div style="display:flex;gap:12px;flex-wrap:wrap;margin-bottom:16px">
      <label class="choice">
        <input type="checkbox" id="chkMunicipality" />
        <span class="choice-label">Municipality</span>
      </label>

      <label class="choice">
        <input type="checkbox" id="chkCorp" />
        <span class="choice-label">Municipal Corporation</span>
      </label>
    </div>

    <div id="listArea" style="margin-top:6px">
      <label for="localInput" id="localLabel" style="display:block;margin-bottom:8px;color:#333;font-weight:600">Select local body</label>
      <input id="localInput" list="localDatalist" placeholder="Type to search or pick..." aria-label="Select local body" style="width:100%;padding:10px;border-radius:10px;border:1px solid #e6e6e6;margin-bottom:8px;display:none" disabled />
      <datalist id="localDatalist"></datalist>
    </div>
  </main>

  <script>
    (function(){

      // Tamil Nadu lists (expanded)
      const MUNICIPAL_CORPORATIONS = [
        'Chennai','Coimbatore','Madurai','Tiruchirappalli','Salem','Tirunelveli','Tiruppur','Erode','Vellore','Thoothukudi','Dindigul','Nagercoil','Kancheepuram','Ranipet','Tiruvannamalai','Kanchipuram','Karaikudi'
      ];

      // Expanded municipality list (common municipalities across Tamil Nadu)
      const MUNICIPALITIES = [
        'Aruppukottai','Avadi','Bhavani','Chengalpattu','Cuddalore','Erode','Kallakurichi','Kanchipuram','Kattumannarkoil','Kovilpatti','Karur','Kumbakonam','Krishnagiri','Madurantakam','Mayiladuthurai','Nagapattinam','Neyveli','Palani','Palladam','Pudukkottai','Ramanathapuram','Sankarankovil','Sankari','Sivakasi','Srivilliputhur','Tenkasi','Thanjavur','Theni','Thiruvallur','Thiruvannamalai','Thiruvarur','Udhagamandalam (Ooty)','Valparai','Vellakoil','Vikravandi','Villupuram','Virudhunagar','Paramakudi','Perambalur','Puducherry (region)','Tirupathur','Polur','Pollachi'
      ];

      const chkMunicipality = document.getElementById('chkMunicipality');
      const chkCorp = document.getElementById('chkCorp');
      const localInput = document.getElementById('localInput');
      const localDatalist = document.getElementById('localDatalist');
      const localLabel = document.getElementById('localLabel');

      let currentList = [];

      function populateDatalist(list, filter) {
        localDatalist.innerHTML = '';
        const q = filter ? filter.trim().toLowerCase() : '';
        const items = q ? list.filter(name => name.toLowerCase().includes(q)) : list.slice();
        items.forEach(name => { const o = document.createElement('option'); o.value = name; localDatalist.appendChild(o); });
        // Keep the input enabled while typing so users can always edit (backspace etc.)
        localInput.disabled = false;
        localInput.placeholder = items.length === 0 ? 'No results' : 'Type to search or pick...';
      }

      function clearDatalist() {
        localDatalist.innerHTML = '';
        localInput.value = '';
        localInput.disabled = true;
        localInput.style.display = 'none';
        localInput.placeholder = 'Type to search or pick...';
      }

      // Wire mutual exclusion and set current list
      chkMunicipality.addEventListener('change', function(){
        if(this.checked){
          chkCorp.checked = false;
          currentList = MUNICIPALITIES;
          localInput.value = '';
          localInput.style.display = 'block';
          populateDatalist(currentList);
          localLabel.textContent = 'Select Municipality';
        } else { currentList = []; clearDatalist(); }
      });

      chkCorp.addEventListener('change', function(){
        if(this.checked){
          chkMunicipality.checked = false;
          currentList = MUNICIPAL_CORPORATIONS;
          localInput.value = '';
          localInput.style.display = 'block';
          populateDatalist(currentList);
          localLabel.textContent = 'Select Municipal Corporation';
        } else { currentList = []; clearDatalist(); }
      });

      // Typing in the input filters the datalist
      localInput.addEventListener('input', function(){
        populateDatalist(currentList, this.value);
      });

      // Initialize
      clearDatalist();

    })();
  </script>
</body>
</html>
